# 12.7 다양한 함수의 형태 ~ [13 스코프](#13-스코프)

- 즉시 실행 함수 
  
  : 함수 정의와 동시에 즉시 호출되는 함수 
  
  : 단 한 번만 호출되며 다시 호출할 수 없다. 

  : 일반적으로 익명 함수를 사용하며 기명 함수를 사용할 시 함수 리터럴로 평가되어 함수 이름은 함수 몸체에서만 참조할 수 있는 식별자가 되어 함수를 다시 호출할 수 없다.

  : 함수 리터럴을 평가해서 함수 객체를 생성하기 위해 그룹 연산자로 감싸야 한다. 

  ![Image](https://github.com/user-attachments/assets/4ba3c66a-8913-4090-9c6b-c271e6f1f993)

- 재귀 함수

  : 함수가 자기 자신을 호출하는 행위인 재귀 호출을 수행하는 함수

  : 반복되는 처리를 위해 사용한다.

  : 함수 내부에서는 함수 이름이나 식별자로도 재귀 호출할 수 있으나, 함수 외부에서는 함수를 가리키는 식별자로 호출해야 한다. 

  : 재귀 함수는 무한루프를 돌기 때문에 탈출 조건을 만들어야 한다. 

  : 일반적으로 반복문을 사용하는 것보다 더 직관적으로 이해하기 쉬울 때 사용한다.

- 중첩 함수(내부 함수)

  : 함수 내부에 정의된 함수

  : 중첩 함수를 포함하는 함수는 외부 함수라고 한다.

  : 중첩 함수는 외부 함수 내부에서만 호출할 수 있으며 일반적으로 헬퍼 함수의 역할을 한다. 

- 콜백 함수 

  : 함수의 매개변수를 통해 다른 함수의 내부로 전달되는 함수

  : 매개 변수를 통해 콜백 함수를 전달받은 함수를 고차 함수라고 한다. 

  : 고차 함수는 콜백 함수를 자신의 일부분으로 합성하며, 콜백 함수는 헬퍼 함수의 역할을 한다고 볼 수 있다.

  : 콜백 함수는 고차 함수에 의해 호출되며, 고차 함수는 필요에 따라 콜백 함수에 인수를 전달할 수 있다.

  : 일반적으로 콜백 함수가 고차 함수 내부에서만 호출된다면 콜백 함수를 익명 함수 리터럴로 정의와 동시에 전달한다. 

  ![Image](https://github.com/user-attachments/assets/648555ba-0e5b-4586-9ae8-7aba09f4d7d6)

- 순수 함수

  : 어떤 외부 상태에 의존하거나 변경하지 않는, 부수 효과가 없는 함수

  : 동일한 인수가 전달되면 동일한 값을 반환하는 함수로 오직 매개변수를 통해 함수 내부로 전달된 인수에게만 의존해 값을 생성해 반환한다. 

  : 외부 상태(전역 변수, 서버 테이터, 파일 등)에 의존하지 않더라도 내부 상태가 호출될 때마다 변하는 값은 순수 함수가 아니다(시간 등)

  : 인수를 전달받지 않는 순수 함수는 언제나 동일한 값을 반환하므로 상수와 같고, 순수 함수는 인수의 불변성을 유지한다. 

  ![Image](https://github.com/user-attachments/assets/938754f5-f647-4631-9ce9-737b08890c2c)

- 비순수 함수

  : 어떤 외부 상태에 의존하거나 변경하는, 부수 효과가 있는 함수

  : 외부 상태에 의존하거나 외부 상태를 변경하는 함수

    ![Image](https://github.com/user-attachments/assets/022c412c-910c-43ca-902b-f3beeea89a0c)

`함수형 프로그래밍 : 순수 함수와 보조 함수의 조합을 통해 외부 상태를 변경하는 부수 효과를 최소화해서 불변성을 지향하는 프로그래밍 패러다임`

---

---
<br/>

# 13 스코프

스코프 : 식별자가 유효한 범위

모든 식별자는 선언된 위치에 의해 다른 코드가 자신을 참조할 수 있는 유효 범위가 결정된다. 

자바스크립트 엔진은 스코프를 통해 어떤 변수를 참조할 것인지를 결정하며 이를 식별자 결정이라고 한다. 

즉 스코프는 자바스크립트 엔진이 식별자를 검색할 때 사용하는 규칙이다. 

![Image](https://github.com/user-attachments/assets/455e51ad-f51f-4434-a6d8-5603e7a45b44)

- 하나의 값은 유일한 식별자에 연결되어야 한다. 

- 스코프 내에서 식별자는 유일해야 하지만 다른 스코프에서는 같은 이름의 식별자를 쓸 수 있다. (네임스페이스)

코드는 전역과 지역으로 구분되며, 변수는 선언된 위치에 의해 스코프가 결정된다.

![Image](https://github.com/user-attachments/assets/772934dc-cd2e-4cb8-b8aa-3e3392d65fa7)

![Image](https://github.com/user-attachments/assets/eef2f3f0-fe7c-4996-ad36-156739e92e51)

- 전역 : 코드의 가장 바깥 영역, 전역 스코프를 만든다. 
  
  - 전역에 변수 선언 시 전역 변수가 된다. 

  - 전역 변수는 어디서든지 참조할 수 있다. 

- 지역 : 함수 몸체 내부, 지역 스코프를 만든다. 

  - 지역에 변수 선언 시 지역 변수가 된다. 

  - 지역 변수는 자신이 선언된 지역과 하위 지역(중첩 함수)에서만 참조할 수 있다. 

스코프는 함수의 중첩에 의해 계층적인 구조를 갖는다. 즉, 중첩 함수의 지역 스코프는 중첩 함수를 포함하는 외부 함수의 지역 스코프와 계층적 구조를 가지며 외부 함수의 지역 스코프를 중첩 함수의 상위 스코프라 한다. 

![Image](https://github.com/user-attachments/assets/ff87a5c2-b825-46a6-8262-76433414a287)

`스코프 체인 : 스코프가 계층적으로 연결된 것`

자바스크립트 엔진은 스코프 체인을 통해 변수를 참조하는 코드의 스코프에서 시작하여 스코프 방향으로 이동하며 선언된 변수를 검색한다. 

상위 스코프에서 유효한 변수는 하위 스코프에서 자유롭게 참조할 수 있지만 하위 스코프에서 유효한 변수를 상위 스코프에서 참조할 수 없다.

---

블록 레벨 스코프 : 함수 몸체만이 아닌 코드 블록이 지역 스코프를 만드는 특성

함수 레벨 스코프 : var 키워드로 선언된 변수는 오로지 함수의 코드 블록만을 지역 스코프로 인정하는 특성

---

동적 스코프 : 함수를 어디서 호출했는지에 따라 함수의 상위 스코프를 결정한다. 

렉시컬 스코프 / 정적 스코프 : 함수를 어디서 정의했는지에 따라 함수의 상위 스코프를 결정한다. 

자바스크립트는 렉시컬 스코프를 따른다. 함수가 호출된 위피는 상위 스코프 결정에 영향을 주지 않으며, 함수의 상위 스코프는 자신이 정의된 스코프다. 

즉, 함수의 상위 스코프는 함수 정의가 실행될 때 정적으로 결정되며, 함수 정의가 실행되어 생성된 함수 객체는 상위 스코프를 기억한다. 


