# 43ì¥ Ajax

## Ajaxë€?

Ajax(Asynchronouse JavaScript and XML)ë€ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¸Œë¼ìš°ì €ê°€ ì„œë²„ì—ê²Œ ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ìš”ì²­í•˜ê³ , ì„œë²„ê°€ ì‘ë‹µí•œ ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•˜ì—¬ ì›¹í˜ì´ì§€ë¥¼ ë™ì ìœ¼ë¡œ ê°±ì‹ í•˜ëŠ” í”„ë¡œê·¸ë˜ë° ë°©ì‹ì„ ë§í•œë‹¤.  
AjaxëŠ” ë¸Œë¼ìš°ì €ì—ì„œ ì œê³µí•˜ëŠ” Web APIì¸ XMLHttpRequest ê°ì²´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•œë‹¤.

> XMLHttpRequestëŠ” HTTP ë¹„ë™ê¸° í†µì‹ ì„ ìœ„í•œ ë©”ì„œë“œì™€ í”„ë¡œí¼í‹°ë¥¼ ì œê³µí•œë‹¤.

ì´ì „ì˜ ì›¹í˜ì´ì§€ëŠ” html íƒœê·¸ë¡œ ì‹œì‘í•´ì„œ html íƒœê·¸ë¡œ ëë‚˜ëŠ” ì™„ì „í•œ HTMLì„ ì„œë²„ë¡œë¶€í„° ì „ì†¡ë°›ì•„ ì›¹í˜ì´ì§€ ì „ì²´ë¥¼ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ë Œë”ë§í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ì‘í–ˆë‹¤.  
í™”ë©´ì´ ì „í™˜ë˜ë©´ ì„œë²„ë¡œë¶€í„° ìƒˆë¡œìš´ HTMLì„ ì „ì†¡ë°›ì•„ ì›¹í˜ì´ì§€ ì „ì²´ë¥¼ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ë Œë”ë§í–ˆë‹¤.

- ì „í†µì ì¸ ì›¹í˜ì´ì§€ì˜ ìƒëª…ì£¼ê¸°

![](https://velog.velcdn.com/images/pmj9498/post/8d242b12-34d4-4665-8f7c-a2f89c6354da/image.png)

ì´ëŸ¬í•œ ì „í†µì ì¸ ë°©ì‹ì˜ ë‹¨ì ì€

1. ì´ì „ ì›¹í˜ì´ì§€ì™€ ì°¨ì´ê°€ ì—†ì–´ì„œ ë³€ê²½í•  í•„ìš”ê°€ ì—†ëŠ” ë¶€ë¶„ê¹Œì§€ í¬í•¨ëœ ì™„ì „í•œ HTMLì„ ì„œë²„ë¡œë¶€í„° ë§¤ë²ˆ ë‹¤ì‹œ ì „ì†¡ë°›ê¸° ë•Œë¬¸ì— ë¶ˆí•„ìš”í•œ ë°ì´í„° í†µì‹ ì´ ë°œìƒí•œë‹¤.

2. ë³€ê²½í•  í•„ìš”ê°€ ì—†ëŠ” ë¶€ë¶„ê¹Œì§€ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ë Œë”ë§í•œë‹¤. ì´ë¡œ ì¸í•´ í™”ë©´ ì „í™˜ì´ ì¼ì–´ë‚˜ë©´ í™”ë©´ì´ ìˆœê°„ì ìœ¼ë¡œ ê¹œë¹¡ì´ëŠ” í˜„ìƒì´ ë°œìƒí•œë‹¤.

3. í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ì™€ì˜ í†µì‹ ì´ ë™ê¸° ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì— ì„œë²„ë¡œë¶€í„° ì‘ë‹µì´ ìˆì„ ë•Œê¹Œì§€ ë‹¤ìŒ ì²˜ë¦¬ëŠ” ë¸”ë¡œí‚¹ëœë‹¤.

Ajaxì˜ ë“±ì¥ìœ¼ë¡œ ì„œë²„ë¡œë¶€í„° ì›¹í˜ì´ì§€ì˜ ë³€ê²½ì— í•„ìš”í•œ ë°ì´í„°ë§Œ ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ì „ì†¡ë°›ì•„ ì›¹í˜ì´ì§€ë¥¼ ë³€ê²½í•  í•„ìš”ê°€ ì—†ëŠ” ë¶€ë¶„ì€ ë‹¤ì‹œ ë Œë”ë§í•˜ì§€ ì•Šê³ , ë³€ê²½í•  í•„ìš”ê°€ ìˆëŠ” ë¶€ë¶„ë§Œ í•œì •ì ìœ¼ë¡œ ë Œë”ë§í•˜ëŠ” ë°©ì‹ì´ ê°€ëŠ¥í•´ì§„ ê²ƒì´ë‹¤.  
ì´ë¥¼ í†µí•´ ë¸Œë¼ìš°ì €ì—ì„œë„ ë°ìŠ¤í¬í†± ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ìœ ì‚¬í•œ ë¹ ë¥¸ í¼í¬ë¨¼ìŠ¤ì™€ ë¶€ë“œëŸ¬ìš´ í™”ë©´ ì „í™˜ì´ ê°€ëŠ¥í•´ì¡Œë‹¤.

- Ajax

![](https://velog.velcdn.com/images/pmj9498/post/c9e40a71-93c2-4708-908a-1a510b9ba3ad/image.png)

Ajaxë¥¼ ì „í†µì ì¸ ë°©ì‹ê³¼ ë¹„êµí–ˆì„ ë•Œì˜ ì¥ì 

1. ë³€ê²½í•  ë¶€ë¶„ì„ ê°±ì‹ í•˜ëŠ” ë° í•„ìš”í•œ ë°ì´í„°ë§Œ ì„œë²„ë¡œë¶€í„° ì „ì†¡ë°›ê¸° ë•Œë¬¸ì— ë¶ˆí•„ìš”í•œ ë°ì´í„° í†µì‹ ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.

2. ë³€ê²½í•  í•„ìš”ê°€ ì—†ëŠ” ë¶€ë¶„ì€ ë‹¤ì‹œ ë Œë”ë§í•˜ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ í™”ë©´ì´ ìˆœê°„ì ìœ¼ë¡œ ê¹œë¹¡ì´ëŠ” í˜„ìƒì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.

3. í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ì™€ì˜ í†µì‹ ì´ ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì— ì„œë²„ì—ê²Œ ìš”ì²­ì„ ë³´ë‚¸ ì´í›„ ë¸”ë¡œí‚¹ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.

## JSON

JSON(JavaScript Object Notation)ì€ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ì˜ HTTP í†µì‹ ì„ ìœ„í•œ í…ìŠ¤íŠ¸ ë°ì´í„° í¬ë§·ì´ë‹¤.  
ğŸ”¥ ìë°”ìŠ¤í¬ë¦½íŠ¸ì— ì¢…ì†ë˜ì§€ ì•ŠëŠ” ì–¸ì–´ ë…ë¦½í˜• ë°ì´í„° í¬ë§·ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### JSON í‘œê¸° ë°©ì‹

JSONì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ê°ì²´ ë¦¬í„°ëŸ´ê³¼ ìœ ì‚¬í•˜ê²Œ í‚¤ì™€ ê°’ìœ¼ë¡œ êµ¬ì„±ëœ ìˆœìˆ˜í•œ í…ìŠ¤íŠ¸ë‹¤.

![](https://velog.velcdn.com/images/pmj9498/post/24eae498-e7cd-4da9-aff6-eaafd6882d01/image.png)

JSONì˜ í‚¤ëŠ” ë°˜ë“œì‹œ í°ë”°ì˜´í‘œ(ì‘ì€ë”°ì˜´í‘œ ì‚¬ìš© ë¶ˆê°€)ë¡œ ë¬¶ì–´ì•¼ í•œë‹¤. ê°’ì€ ê°ì²´ ë¦¬í„°ëŸ´ê³¼ ê°™ì€ í‘œê¸°ë²•ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.  
í•˜ì§€ë§Œ ë¬¸ìì—´ì€ ë°˜ë“œì‹œ í°ë”°ì˜´í‘œ(ì‘ì€ë”°ì˜´í‘œ ì‚¬ìš© ë¶ˆê°€)ë¡œ ë¬¶ì–´ì•¼ í•œë‹¤.

### JSON.stringify

JSON.stringify ë©”ì„œë“œëŠ” ê°ì²´ë¥¼ JSON í¬ë§·ì˜ ë¬¸ìì—´ë¡œ ë³€í™˜í•œë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ë¡œ ê°ì²´ë¥¼ ì „ì†¡í•˜ë ¤ë©´ ê°ì²´ë¥¼ ë¬¸ìì—´í™”í•´ì•¼ í•˜ëŠ”ë° ì´ë¥¼ ì§ë ¬í™”(serializing)ë¼ í•œë‹¤.

![](https://velog.velcdn.com/images/pmj9498/post/3e8a0fee-d2b4-4699-b810-59382e8ef695/image.png)
![](https://velog.velcdn.com/images/pmj9498/post/f2153810-6978-4946-96e9-79af0dec3006/image.png)

JSON.stringify ë©”ì„œë“œëŠ” ê°ì²´ë¿ë§Œ ì•„ë‹ˆë¼ ë°°ì—´ë„ JSON í¬ë§·ì˜ ë¬¸ìì—´ë¡œ ë³€í™˜í•œë‹¤.

![](https://velog.velcdn.com/images/pmj9498/post/be11520d-35b0-4cc7-9c22-fabe7d9cade3/image.png)

### JSON.parse

JSON.parse ë©”ì„œë“œëŠ” JSON í¬ë§·ì˜ ë¬¸ìì—´ì„ ê°ì²´ë¡œ ë³€í™˜í•œë‹¤. ì„œë²„ë¡œë¶€í„° í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ì†¡ëœ json ë°ì´í„°ëŠ” ë¬¸ìì—´ì´ë‹¤.  
ì´ ë¬¸ìì—´ì„ ê°ì²´ë¡œì„œ ì‚¬ìš©í•˜ë ¤ë©´ JSON í¬ë§·ì˜ ë¬¸ìì—´ì„ ê°ì²´í™”í•´ì•¼ í•˜ëŠ”ë° ì´ë¥¼ ì—­ì§ë ¬í™”(deserializing)ë¼ í•œë‹¤.

![](https://velog.velcdn.com/images/pmj9498/post/64509a87-c30a-413a-97eb-2a4b06ea1ae0/image.png)

## XMLHttpRequest

ë¸Œë¼ìš°ì €ëŠ” ì£¼ì†Œì°½ì´ë‚˜ HTMLì˜ form íƒœê·¸ ë˜ëŠ” a íƒœê·¸ë¥¼ í†µí•´ HTTP ìš”ì²­ ì „ì†¡ ê¸°ëŠ¥ì„ ê¸°ë³¸ ì œê³µí•œë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ HTTP ìš”ì²­ì„ ì „ì†¡í•˜ë ¤ë©´ XMLHttpRequest ê°ì²´ë¥¼ ì‚¬ìš©í•œë‹¤.

> Web APIì¸ XMLHttpRequestê°ì²´ëŠ” HTTP ìš”ì²­ ì „ì†¡ê³¼ HTTP ì‘ë‹µ ìˆ˜ì‹ ì„ ìœ„í•œ ë‹¤ì–‘í•œ ë©”ì„œë“œì™€ í”„ë¡œí¼í‹°ë¥¼ ì œê³µí•œë‹¤.

### XMLHttpRequest ê°ì²´ ìƒì„±

XMLHttpRequest ê°ì²´ëŠ” XMLHttpRequest ìƒì„±ì í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ìƒì„±í•œë‹¤.  
XMLHttpRequest ê°ì²´ëŠ” ë¸Œë¼ìš°ì €ì—ì„œ ì œê³µí•˜ëŠ” Web APIì´ë¯€ë¡œ ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œë§Œ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.

```js
// XMLHttpRequest ê°ì²´ì˜ ìƒì„±
const xhr = new XMLHttpRequest();
```

### XMLHttpRequest ê°ì²´ì˜ í”„ë¡œí¼í‹°ì™€ ë©”ì„œë“œ

XMLHttpRequest ê°ì²´ëŠ” ë‹¤ì–‘í•œ í”„ë¡œí¼í‹°ì™€ ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤.

#### XMLHttpRequest ê°ì²´ì˜ í”„ë¡œí† íƒ€ì… í”„ë¡œí¼í‹°

![](https://velog.velcdn.com/images/pmj9498/post/0f3f5c44-e206-48b4-979d-6bde6dd1a25f/image.png)
![](https://velog.velcdn.com/images/pmj9498/post/6a877746-343d-4655-892e-30faecdcc323/image.png)

#### XMLHttpRequest ê°ì²´ì˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í”„ë¡œí¼í‹°

![](https://velog.velcdn.com/images/pmj9498/post/9d5b0185-6383-4f4f-9799-4c871f07b710/image.png)

#### XMLHttpRequest ê°ì²´ì˜ ë©”ì„œë“œ

![](https://velog.velcdn.com/images/pmj9498/post/79500775-8192-4a0c-b24f-a8df47e07c6d/image.png)

#### XMLHttpRequest ê°ì²´ì˜ ì •ì  í”„ë¡œí¼í‹°

![](https://velog.velcdn.com/images/pmj9498/post/7e7c09a2-94b1-448f-a60e-16c0e83473e2/image.png)
![](https://velog.velcdn.com/images/pmj9498/post/e05a40cc-9a01-49dd-80b6-1251f102c024/image.png)

### HTTP ìš”ì²­ ì „ì†¡

1. XMLHttpRequest.prototype.open ë©”ì„œë“œë¡œ HTTP ìš”ì²­ì„ ì´ˆê¸°í™”í•œë‹¤.

2. í•„ìš”ì— ë”°ë¼ XMLHttpRequest.prototype.setRequestHeader ë©”ì„œë“œë¡œ íŠ¹ì • HTTP ìš”ì²­ì˜ í—¤ë” ê°’ì„ ì„¤ì •í•œë‹¤.

3. XMLHttpRequest.prototype.send ë©”ì„œë“œë¡œ HTTP ìš”ì²­ì„ ì „ì†¡í•œë‹¤.

![](https://velog.velcdn.com/images/pmj9498/post/50688f25-87f5-4398-b31c-6e38f51b594d/image.png)

#### XMLHttpRequest.prototype.open

open ë©”ì„œë“œëŠ” ì„œë²„ì— ì „ì†¡í•  HTTP ìš”ì²­ì„ ì´ˆê¸°í™”í•œë‹¤.

```js
xhr.open(method, url[, async])
```

![](https://velog.velcdn.com/images/pmj9498/post/d44c6e46-271f-40e2-9769-97f7da9d1959/image.png)

HTTP ìš”ì²­ ë©”ì„œë“œëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì—ê²Œ ìš”ì²­ì˜ ì¢…ë¥˜ì™€ ëª©ì (ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ í–‰ìœ„)ì„ ì•Œë¦¬ëŠ” ë°©ë²•ì´ë‹¤. ì£¼ë¡œ 5ê°€ì§€ ìš”ì²­ ë©”ì„œë“œ(GET, POST, PUT, PATCH, DELETE ë“±)ë¥¼ ì‚¬ìš©í•˜ì—¬ CRUDë¥¼ êµ¬í˜„í•œë‹¤.

![](https://velog.velcdn.com/images/pmj9498/post/a204db87-5e9e-4319-b4b0-7c0e6971a533/image.png)

#### XMLHttpRequest.prototype.send

send ë©”ì„œë“œëŠ” open ë©”ì„œë“œë¡œ ì´ˆê¸°í™”ëœ HTTP ìš”ì²­ì„ ì„œë²„ì— ì „ì†¡í•œë‹¤.

- GET ìš”ì²­ ë©”ì„œë“œì˜ ê²½ìš° ë°ì´í„°ë¥¼ URLì˜ ì¼ë¶€ë¶„ë§Œ ì¿¼ë¦¬ ë¬¸ìì—´(query string)ë¡œ ì„œë²„ì— ì „ì†¡í•œë‹¤.
- POST ìš”ì²­ ë©”ì„œë“œì˜ ê²½ìš° ë°ì´í„°(í˜ì´ë¡œë“œ)ë¥¼ ìš”ì²­ ëª¸ì²´(request body)ì— ë‹´ì•„ ì „ì†¡í•œë‹¤.

![](https://velog.velcdn.com/images/pmj9498/post/3ce40315-96d1-4d56-b2ac-07cc0f08d66f/image.png)

send ë©”ì„œë“œì—ëŠ” ìš”ì²­ ëª¸ì²´ì— ë‹´ì•„ ì „ì†¡í•  ë°ì´í„°(í˜ì´ë¡œë“œ)ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤. í˜ì´ë¡œë“œê°€ ê°ì²´ì¸ ê²½ìš° ë°˜ë“œì‹œ JSON.stringify ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì§ë ¬í™”í•œ ë‹¤ìŒ ì „ë‹¬í•´ì•¼ í•œë‹¤.

![](https://velog.velcdn.com/images/pmj9498/post/b0e567ed-4d1c-423c-9915-4b3b64260b1b/image.png)

ğŸ”¥ HTTP ìš”ì²­ ë©”ì„œë“œê°€ GETì¸ ê²½ìš° send ë©”ì„œë“œì— í˜ì´ë¡œë“œë¡œ ì „ë‹¬í•œ ì¸ìˆ˜ëŠ” ë¬´ì‹œë˜ê³  ìš”ì²­ ëª¸ì²´ëŠ” nullë¡œ ì„¤ì •ëœë‹¤.

#### XMLHttpRequest.prototype.setRequestHeader

setRequestHeader ë©”ì„œë“œëŠ” íŠ¹ì • HTTP ìš”ì²­ì˜ í—¤ë” ê°’ì„ ì„¤ì •í•œë‹¤. setRequestHeader ë©”ì„œë“œëŠ” ë°˜ë“œì‹œ open ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ì´í›„ì— í˜¸ì¶œí•´ì•¼ í•œë‹¤. ìì£¼ ì‚¬ìš©í•˜ëŠ” HTTP ìš”ì²­ í—¤ë”ì¸ Content-typeì€ ìš”ì²­ ëª¸ì²´ì— ë‹´ì•„ ì „ì†¡í•  ë°ì´í„°ì˜ MIME íƒ€ì…ì˜ ì •ë³´ë¥¼ í‘œí˜„í•œë‹¤.

ìì£¼ ì‚¬ìš©ë˜ëŠ” MIME

![](https://velog.velcdn.com/images/pmj9498/post/94225fd3-4a93-41dc-9db2-dd937ae8216f/image.png)

HTTP í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì— ìš”ì²­í•  ë•Œ ì„œë²„ê°€ ì‘ë‹µí•  ë°ì´í„°ì˜ MIME íƒ€ì…ì„ Acceptë¡œ ì§€ì •í•  ìˆ˜ ìˆë‹¤.

![](https://velog.velcdn.com/images/pmj9498/post/30c3cd87-6e03-4044-b915-0f2ce12ce096/image.png)

ë§Œì•½ Accept í—¤ë”ë¥¼ ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´ send ë©”ì„œë“œê°€ í˜¸ì¶œë  ë•Œ Accept í—¤ë”ê°€ \*/\*ìœ¼ë¡œ ì „ì†¡ëœë‹¤.

### HTTP ì‘ë‹µ ì²˜ë¦¬

ì„œë²„ê°€ ì „ì†¡í•œ ì‘ë‹µì„ ì²˜ë¦¬í•˜ë ¤ë©´ XMLHttpRequest ê°ì²´ê°€ ë°œìƒì‹œí‚¤ëŠ” ì´ë²¤íŠ¸ë¥¼ ìºì¹˜í•´ì•¼ í•œë‹¤.  
XMLHttpRequest ê°ì²´ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í”„ë¡œí¼í‹° ì¤‘ì—ì„œ HTTP ìš”ì²­ì˜ í˜„ì¬ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” readyState í”„ë¡œí¼í‹° ê°’ì´ ë³€ê²½ëœ ê²½ìš° ë°œìƒí•˜ëŠ” readystatechange ì´ë²¤íŠ¸ë¥¼ ìºì¹˜í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì´ HTTP ì‘ë‹µì„ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

![](https://velog.velcdn.com/images/pmj9498/post/2fd0ada6-6acf-4771-8259-8be53b47dec2/image.png)
![](https://velog.velcdn.com/images/pmj9498/post/8855679e-3dbc-4fa7-8b76-d09040e8f489/image.png)

send ë©”ì„œë“œë¥¼ í†µí•´ HTTP ìš”ì²­ì„ ì„œë²„ì— ì „ì†¡í•˜ë©´ ì„œë²„ëŠ” ì‘ë‹µì„ ë°˜í™˜í•œë‹¤.  
í•˜ì§€ë§Œ ì–¸ì œ ì‘ë‹µì´ í´ë¼ì´ì–¸íŠ¸ì— ë„ë‹¬í• ì§€ëŠ” ì•Œ ìˆ˜ ì—†ë‹¤. ë”°ë¼ì„œ readystatechange ì´ë²¤íŠ¸ë¥¼ í†µí•´ HTTP ìš”ì²­ì˜ í˜„ì¬ ìƒíƒœë¥¼ í™•ì¸í•´ì•¼ í•œë‹¤.

> HTTP ìš”ì²­ì˜ í˜„ì¬ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” readyState í”„ë¡œí¼í‹°ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ë°œìƒí•œë‹¤.
>
> onreadystatechange ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í”„ë¡œí¼í‹°ì— í• ë‹¹í•œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ëŠ” HTTP ìš”ì²­ì˜ í˜„ì¬ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” xhr.readyStateê°€ XMLHttpRequest.DONEì¸ì§€ í™•ì¸í•˜ì—¬ ì„œë²„ì˜ ì‘ë‹µì´ ì™„ë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸í•œë‹¤.

ì„œë²„ì˜ ì‘ë‹µì´ ì™„ë£Œë˜ë©´ HTTP ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µ ìƒíƒœ(HTTP ìƒíƒœ ì½”ë“œ)ë¥¼ ë‚˜íƒ€ë‚´ëŠ” xhr.statusê°€ 200ì¸ì§€ í™•ì¸í•˜ì—¬ ì •ìƒ ì²˜ë¦¬ì™€ ì—ëŸ¬ ì²˜ë¦¬ë¥¼ êµ¬ë¶„í•œë‹¤.  
HTTP ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µì´ ì •ìƒì ìœ¼ë¡œ ë„ì°©í–ˆë‹¤ë©´ ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µ ëª¸ì²´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” xhr.responseì—ì„œ ì„œë²„ê°€ ì „ì†¡í•œ ë°ì´í„°ë¥¼ ì·¨ë“í•œë‹¤.  
ë§Œì•½ xhr.statusê°€ 200ì´ ì•„ë‹ˆë©´ ì—ëŸ¬ê°€ ë°œìƒí•œ ìƒíƒœì´ë¯€ë¡œ í•„ìš”í•œ ì—ëŸ¬ ì²˜ë¦¬ë¥¼ í•œë‹¤.

> readystatechange ì´ë²¤íŠ¸ ëŒ€ì‹  load ì´ë²¤íŠ¸ë¥¼ ìºì¹˜í•´ë„ ì¢‹ë‹¤. load ì´ë²¤íŠ¸ëŠ” HTTP ìš”ì²­ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œëœ ê²½ìš° ë°œìƒí•œë‹¤. ë”°ë¼ì„œ load ì´ë²¤íŠ¸ë¥¼ ìºì¹˜í•˜ëŠ” ê²½ìš° xhr.readyStateê°€ XMLHttpRequest.DONEì¸ì§€ í™•ì¸í•  í•„ìš”ê°€ ì—†ë‹¤.
>
> ![](https://velog.velcdn.com/images/pmj9498/post/785a26b1-b270-4fa9-bca7-fde228963412/image.png) > ![](https://velog.velcdn.com/images/pmj9498/post/ca381c10-feb8-410f-965a-ef243e432bea/image.png)

# 44ì¥ REST API

RESTì˜ ê¸°ë³¸ ì›ì¹™ì„ ì„±ì‹¤íˆ ì§€í‚¨ ì„œë¹„ìŠ¤ ë””ìì¸ì„ "RESTful"ì´ë¼ê³  í‘œí˜„í•œë‹¤.

ì¦‰, RESTëŠ” HTTPë¥¼ ê¸°ë°˜ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì˜ ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼í•˜ëŠ” ë°©ì‹ì„ ê·œì •í•œ ì•„í‚¤í…ì²˜ê³ , REST APIëŠ” RESTë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì„œë¹„ìŠ¤ APIë¥¼ êµ¬í˜„í•œ ê²ƒì„ ì˜ë¯¸í•œë‹¤.

## REST APIì˜ êµ¬ì„±

REST APIëŠ” ìì›(resource), í–‰ìœ„(verb), í‘œí˜„(representation)ì˜ 3ê°€ì§€ ìš”ì†Œë¡œ êµ¬ì„±ëœë‹¤.  
RESTëŠ” ìì²´ í‘œí˜„ êµ¬ì¡°ë¡œ êµ¬ì„±ë˜ì–´ REST APIë§Œìœ¼ë¡œ HTTP ìš”ì²­ì˜ ë‚´ìš©ì„ ì´í•´í•  ìˆ˜ ìˆë‹¤.

![](https://velog.velcdn.com/images/pmj9498/post/4a61170e-f3cc-4158-a19d-57af06b4a777/image.png)

## REST API ì„¤ê³„ ì›ì¹™

1. URIëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ í‘œí˜„í•´ì•¼ í•œë‹¤.

URIëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ í‘œí˜„í•˜ëŠ” ë° ì¤‘ì ì„ ë‘ì–´ì•¼ í•œë‹¤.  
ë¦¬ì†ŒìŠ¤ë¥¼ ì‹ë³„í•  ìˆ˜ ìˆëŠ” ì´ë¦„ì€ ë™ì‚¬ë³´ë‹¤ëŠ” ëª…ì‚¬ë¥¼ ì‚¬ìš©í•œë‹¤. ë”°ë¼ì„œ ì´ë¦„ì— get ê°™ì€ í–‰ìœ„ì— ëŒ€í•œ í‘œí˜„ì´ ë“¤ì–´ê°€ì„œëŠ” ì•ˆ ëœë‹¤.

```
# bad
GET /getTodos/1
GET /todos/show/1

# good
GET /todos/1
```

2. ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ í–‰ìœ„ëŠ” HTTP ìš”ì²­ ë©”ì„œë“œë¡œ í‘œí˜„í•œë‹¤.

HTTP ìš”ì²­ ë©”ì„œë“œëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì—ê²Œ ìš”ì²­ì˜ ì¢…ë¥˜ì™€ ëª©ì (ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ í–‰ìœ„)ì„ ì•Œë¦¬ëŠ” ë°©ë²•ì´ë‹¤.  
ì£¼ë¡œ 5ê°€ì§€ ìš”ì²­ ë©”ì„œë“œ(GET, POST, PUT, PATCH, DELETE ë“±)ë¥¼ ì‚¬ìš©í•˜ì—¬ CRUDë¥¼ êµ¬í˜„í•œë‹¤.

![](https://velog.velcdn.com/images/pmj9498/post/468c92da-4b75-4f09-85fb-95654600d63d/image.png)

ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ í–‰ìœ„ëŠ” HTTP ìš”ì²­ ë©”ì„œë“œë¥¼ í†µí•´ í‘œí˜„í•˜ë©° URIì— í‘œí˜„í•˜ì§€ ì•ŠëŠ”ë‹¤.

```
# bad
GET /todos/delete/1

# good
DELETE /todos/1
```

## JSON Serverë¥¼ ì´ìš©í•œ REST API ì‹¤ìŠµ

### JSON Server ì„¤ì¹˜

> JSON ServerëŠ” json íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ê°€ìƒ REST API ì„œë²„ë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆëŠ” íˆ´ì´ë‹¤.

ë¨¼ì € npmì„ ì‚¬ìš©í•˜ì—¬ JSON Serverë¥¼ ì„¤ì¹˜í•˜ì

> **npm**
>
> npm(node package manager)ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ë‹¤. Node.jsì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ëª¨ë“ˆë“¤ì„ íŒ¨í‚¤ì§€í™”í•˜ì—¬ ëª¨ì•„ë‘” ì €ì¥ì†Œ ì—­í• ê³¼ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ë° ê´€ë¦¬ë¥¼ ìœ„í•œ CLI(Command Line interface)ë¥¼ ì œê³µí•œë‹¤. ìì‹ ì´ ì‘ì„±í•œ íŒ¨í‚¤ì§€ë¥¼ ê³µê°œí•  ìˆ˜ë„ ìˆê³  í•„ìš”í•œ íŒ¨í‚¤ì§€ë¥¼ ê²€ìƒ‰í•˜ì—¬ ì¬ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.

í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì—¬ JSON Serverë¥¼ ì„¤ì¹˜í•œë‹¤.

![](https://velog.velcdn.com/images/pmj9498/post/da1dd1b6-ea6d-4da9-ad52-985cf320a9e9/image.png)

### db.json íŒŒì¼ ìƒì„±

í”„ë¡œì íŠ¸ ë£¨íŠ¸ í´ë”(/json-server-exam)ì— ë‹¤ìŒê³¼ ê°™ì´ db.json íŒŒì¼ì„ ìƒì„±

db.json íŒŒì¼ì€ ë¦¬ì†ŒìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì—­í• ì„ í•œë‹¤.

![](https://velog.velcdn.com/images/pmj9498/post/800b2a04-df42-4e94-affc-755fc7c08560/image.png)
![](https://velog.velcdn.com/images/pmj9498/post/3f6436ab-f240-4a73-ad1d-abd6ebd69b41/image.png)

### JSON Server ì‹¤í–‰

í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì—¬ JSON Serverë¥¼ ì‹¤í–‰í•œë‹¤.  
JSON Serverê°€ ë°ì´í„°ë² ì´ìŠ¤ ì—­í• ì„ í•˜ëŠ” db.json íŒŒì¼ì˜ ë³€ê²½ì„ ê°ì§€í•˜ê²Œ í•˜ë ¤ë©´ watch ì˜µì…˜ì„ ì¶”ê°€í•œë‹¤.

![](https://velog.velcdn.com/images/pmj9498/post/76eef2c8-fff8-435b-9f6d-2be28fac47fb/image.png)

ê¸°ë³¸ í¬íŠ¸ëŠ” 3000ì´ë‹¤. í¬íŠ¸ë¥¼ ë³€ê²½í•˜ë ¤ë©´ port ì˜µì…˜ì„ ì¶”ê°€í•œë‹¤.

![](https://velog.velcdn.com/images/pmj9498/post/18578cd9-3b3e-436a-a07f-bcf083552088/image.png)

ë§¤ë²ˆ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ëŠ” ê²ƒì´ ë²ˆê±°ë¡œìš°ë‹ˆ package.json íŒŒì¼ì˜ scriptsë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•˜ì—¬ JSON Serverë¥¼ ì‹¤í–‰í•˜ì—¬ ë³´ì

![](https://velog.velcdn.com/images/pmj9498/post/3e51bc53-5242-4a9a-a18d-16d2743c7fd4/image.png)

í„°ë¯¸ë„ì—ì„œ npm start ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì—¬ JSON Serverë¥¼ ì‹¤í–‰í•œë‹¤.

![](https://velog.velcdn.com/images/pmj9498/post/10f0797a-ef3a-4656-8bba-176d0840b5e3/image.png)

### GET ìš”ì²­

JSON Serverì˜ ë£¨íŠ¸ í´ë”(/json-server-exam)ì— public í´ë”ë¥¼ ìƒì„±í•˜ê³  JSON Serverë¥¼ ì¤‘ë‹¨í•œ í›„ ì¬ ì‹¤í–‰í•œë‹¤.  
public í´ë”ì— ë‹¤ìŒ get_index.htmlì„ ì¶”ê°€í•˜ê³  ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:3000/get_index.htmlë¡œ ì ‘ì†í•œë‹¤.

![](https://velog.velcdn.com/images/pmj9498/post/9e067800-ecf1-42e9-b2cc-44cf85dc8cb7/image.png)
![](https://velog.velcdn.com/images/pmj9498/post/9535b991-8d9b-4404-ab2e-a01b0d23e56f/image.png)

![](https://velog.velcdn.com/images/pmj9498/post/69b28037-4c37-4a1b-bba6-52e78a33216a/image.png)

todos ë¦¬ì†ŒìŠ¤ì—ì„œ idë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • todoë¥¼ ì·¨ë“í•œë‹¤.  
public í´ë”ì— ë‹¤ìŒ get_retrieve.htmlì„ ì¶”ê°€í•˜ê³  ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:3000/get_retrieve.htmlë¡œ ì ‘ì†í•œë‹¤.

![](https://velog.velcdn.com/images/pmj9498/post/b467728f-91a3-430e-b219-3e5deda7668f/image.png)

![](https://velog.velcdn.com/images/pmj9498/post/59c18135-f441-4c90-be64-3446db2ff7c9/image.png)

### POST ìš”ì²­

todos ë¦¬ì†ŒìŠ¤ì— ìƒˆë¡œìš´ todoë¥¼ ìƒì„±í•œë‹¤. POST ìš”ì²­ ì‹œì—ëŠ” setRequestHeader ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ìš”ì²­ ëª¸ì²´ì— ë‹´ì•„ ì„œë²„ë¡œ ì „ì†¡í•  í˜ì´ë¡œë“œì˜ MIME íƒ€ì…ì„ ì§€ì •í•´ì•¼ í•œë‹¤.

public í´ë”ì— ë‹¤ìŒ post.htmlì„ ì¶”ê°€í•˜ê³  ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:3000/post.htmlë¡œ ì ‘ì†í•œë‹¤.

![](https://velog.velcdn.com/images/pmj9498/post/0f5ae1cf-40b1-4cbd-9b67-762a909fd0c9/image.png)

![](https://velog.velcdn.com/images/pmj9498/post/3da6ca50-bd19-489a-92be-d0abc5d65f3d/image.png)

### PUT ìš”ì²­

PUTì€ íŠ¹ì • ë¦¬ì†ŒìŠ¤ ì „ì²´ë¥¼ êµì²´í•  ë•Œ ì‚¬ìš©í•œë‹¤.

PUT ìš”ì²­ ì‹œì—ëŠ” setRequestHeader ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ìš”ì²­ ëª¸ì²´ì— ë‹´ì•„ ì„œë²„ë¡œ ì „ì†¡í•  í˜ì´ë¡œë“œì˜ MIME íƒ€ì…ì„ ì§€ì •í•´ì•¼ í•œë‹¤.

public í´ë”ì— ë‹¤ìŒ put.htmlì„ ì¶”ê°€í•˜ê³  ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:3000/put.htmlë¡œ ì ‘ì†í•œë‹¤.

![](https://velog.velcdn.com/images/pmj9498/post/a34fff75-e2c5-4fdb-ac75-8bc60d56ff6e/image.png)
![](https://velog.velcdn.com/images/pmj9498/post/f623753b-42c2-4796-9da4-cebdf8adb347/image.png)

![](https://velog.velcdn.com/images/pmj9498/post/d9c84f04-123e-4a9a-a7e4-3ed4f7ae21c1/image.png)

### PATCH ìš”ì²­

PATCHëŠ” íŠ¹ì • ë¦¬ì†ŒìŠ¤ì˜ ì¼ë¶€ë¥¼ ìˆ˜ì •í•  ë•Œ ì‚¬ìš©í•œë‹¤.

PATCH ìš”ì²­ ì‹œì—ëŠ” setRequestHeader ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ìš”ì²­ ëª¸ì²´ì— ë‹´ì•„ ì„œë²„ë¡œ ì „ì†¡í•  í˜ì´ë¡œë“œì˜ MIME íƒ€ì…ì„ ì§€ì •í•´ì•¼ í•œë‹¤.

public í´ë”ì— ë‹¤ìŒ patch.htmlì„ ì¶”ê°€í•˜ê³  ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:3000/patch.htmlë¡œ ì ‘ì†í•œë‹¤.

![](https://velog.velcdn.com/images/pmj9498/post/796d0eaf-382a-48ba-aa9f-1db3ff1db728/image.png)
![](https://velog.velcdn.com/images/pmj9498/post/21c5bbf5-a26b-42d6-a057-9b30853aca86/image.png)

![](https://velog.velcdn.com/images/pmj9498/post/693910ce-97eb-4477-86d9-66f65d2d3279/image.png)

### DELETE ìš”ì²­

todos ë¦¬ì†ŒìŠ¤ì—ì„œ idë¥¼ ì‚¬ìš©í•˜ì—¬ todoë¥¼ ì‚­ì œí•œë‹¤.

public í´ë”ì— ë‹¤ìŒ delete.htmlì„ ì¶”ê°€í•˜ê³  ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:3000/delete.htmlë¡œ ì ‘ì†í•œë‹¤.

![](https://velog.velcdn.com/images/pmj9498/post/dacc19e7-fcc6-442d-88d9-e9a1c62852d6/image.png)

![](https://velog.velcdn.com/images/pmj9498/post/720b7a2e-22e2-422d-a464-88f0c370d1b9/image.png)
